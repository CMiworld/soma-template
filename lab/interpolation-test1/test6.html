<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<div id="A">
	<div id="A1"></div>
</div>

<div id="B">
	<div id="B1"></div>
</div>

<script type="text/javascript">
	function comparePosition(a, b){
		return a.compareDocumentPosition ?
				a.compareDocumentPosition(b) :
				a.contains ?
						(a != b && a.contains(b) && 16) +
								(a != b && b.contains(a) && 8) +
								(a.sourceIndex >= 0 && b.sourceIndex >= 0 ?
										(a.sourceIndex < b.sourceIndex && 4) +
												(a.sourceIndex > b.sourceIndex && 2) :
										1) +
								0 :
						0;
	};

	var A = document.getElementById('A');
	var A1 = document.getElementById('A1');
	var B = document.getElementById('B');
	var B1 = document.getElementById('B1');

	console.log('A', 'A', A.compareDocumentPosition(A));
	console.log('A', 'A1', A.compareDocumentPosition(A1));
	console.log('A1', 'A', A1.compareDocumentPosition(A));
	console.log('A1', 'A1', A1.compareDocumentPosition(A1));
	console.log('B', 'B', B.compareDocumentPosition(B));
	console.log('B', 'B1', B.compareDocumentPosition(B1));
	console.log('B1', 'B', B1.compareDocumentPosition(B));
	console.log('B1', 'B1', B1.compareDocumentPosition(B1));

	console.log('A', 'B', A.compareDocumentPosition(B));
	console.log('A', 'B1', A.compareDocumentPosition(B1));


</script>

</body>
</html>